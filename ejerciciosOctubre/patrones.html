<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ejercicio Patrones</title>
    <link rel="stylesheet" type="text/css" href="../css/styles.css" />
  </head>
  <body>
    <script>
      /*
    Realiza una aplicación web que solicite una cadena de texto.
    El programa debe decir cuántas veces ocurre cada uno de estos patrones
    sin distinguir mayúsculas y minúsculas: “00” “101”, “ABC”, “H0”.
    Un carácter puede formar parte de más de un patrón encontrado.
    Por ejemplo: En la cadena “000” el patrón “00” aparece dos veces
    (una empieza en la posición 0 y otra empieza en la posición 1).
    Internamente el programa realizará la cuenta de patrones con una
    función definida como function numeroPatrones(texto) que
    devolverá un número entero con el número de patrones encontrados.
    Ejemplo:
    1110101000ABCHO
    */

      function numeroPatrones(texto) {
        const patronesBuscar = ['00', '101', 'ABC', 'H0']
        let patrones = 0

        patronesBuscar.forEach(patron => {
          let copiaTexto = texto
          while (copiaTexto.search(patron) != -1) {
            copiaTexto = copiaTexto.substring(copiaTexto.indexOf(patron) + 1)
            patrones++
          }
        })
        return patrones
      }

      const texto = prompt('Introduce una cadena de texto')

      const body = document.body
      const parrafo = document.createElement('p')
      parrafo.innerText = `Patrones encontrados: ${numeroPatrones(texto)}`
      parrafo.style.fontSize = '2rem'
      body.append(parrafo)
    </script>
  </body>
</html>
